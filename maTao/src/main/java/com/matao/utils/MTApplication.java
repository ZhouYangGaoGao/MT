package com.matao.utils;import android.app.Application;import android.content.SharedPreferences;import android.content.pm.PackageInfo;import android.content.pm.PackageManager;import android.content.pm.PackageManager.NameNotFoundException;import android.graphics.Typeface;import com.lidroid.xutils.BitmapUtils;/** * @author: ZhouYang * @E-mail: ZhouYangGaoGao@163.com * @time:2015-4-29 下午2:44:47 * @Description:全局变量 */public class MTApplication extends Application {	public static MTApplication application;	public static int mNetWorkState; // 网络状态	public static int mVersionCode; // 版本号	public static String mVersionName; // 版本名称	public static boolean isFlag ;//欢迎页标识	public static Typeface jtz;	public static BitmapUtils bmu;	public static boolean isLogin;// 是否已登录	public static SharedPreferences.Editor mEditor;	public static String[] fenlei = { "全部分类", "妈妈专区", "奶粉", "营养辅食", "童装童鞋",			"尿裤湿巾", "喂养用品", "洗护护理", "寝居日用", "童车童床", "宝宝学玩" };	public static String[] ages = { "全年龄段", "孕期/产后", "0-3个月", "3-6个月",			"6-12个月", "1-3岁", "3-6岁", "6岁以上" };	public static String[] source = { "全部", "国内", "海淘" };	public static String getString(String key) {		SharedPreferences sharedPreferences = application.getSharedPreferences(				"matao", MODE_PRIVATE);		return sharedPreferences.getString(key, "");	}	public static SharedPreferences getSharedPreferences() {		SharedPreferences sharedPreferences = application.getSharedPreferences(				"matao", MODE_PRIVATE);		return sharedPreferences;	}	public static int getInt(String str) {		SharedPreferences sharedPreferences = application.getSharedPreferences(				"matao", MODE_PRIVATE);		return sharedPreferences.getInt(str, 0);	}	// 普通登录时调用该方法记录登录成功	public static void setLogin(boolean isLogin) {		MTApplication.isLogin = isLogin;		mEditor.putBoolean("isLogin", isLogin);		mEditor.commit();	}	// 欢迎页展示过后调用该方法记录登录成功	public static void setFlag(boolean isFlag) {		MTApplication.isFlag = isFlag;		mEditor.putBoolean("isFlag", isFlag);		mEditor.commit();	}	// 第三方登录时调用该方法记录登录成功	public static void setThreeLogin(boolean isLogin) {		setLogin(isLogin);		mEditor.putBoolean("isThreeLogin", isLogin);		mEditor.commit();	}	// 判断当前登录是否为第三方登录(默认为flase，当第三方登录成功后置为ture)，在需要的地方get该方法。	public static boolean getThreeLogin() {		SharedPreferences sharedPreferences = application.getSharedPreferences(				"matao", MODE_PRIVATE);		return sharedPreferences.getBoolean("isThreeLogin", false);	}	@Override	public void onCreate() {		super.onCreate();		// UserStrategy strategy = new UserStrategy(getApplicationContext()); //		// App的策略Bean		// strategy.setAppChannel("mi"); // 设置渠道		// strategy.setAppVersion("matao1.0"); // App的版本		// strategy.setAppReportDelay(5000); // 设置SDK处理延时，毫秒		// CrashReport.initCrashReport(getApplicationContext(), "900003309",		// true); // 初始化SDK		// CrashReport.setUserId("ZhouYangText"); // 设置用户的唯一标识		if (!MTUtils.isNetworkConnected(this)) {			// MTUtils.Toast(this, "✘  你的网络不给力哦");			MTUtils.netTip(this);		}		application = this;		mEditor = getSharedPreferences("matao", MODE_PRIVATE).edit();		isLogin = getSharedPreferences("matao", MODE_PRIVATE).getBoolean(				"isLogin", false);		//设为false开启功能介绍欢迎页		isFlag = getSharedPreferences("matao", MODE_PRIVATE).getBoolean(				"isflag", true);				initLocalVersion();		bmu = new BitmapUtils(getApplicationContext());		jtz = Typeface.createFromAsset(getAssets(), "fonts/ttf.otf");	}	public static MTApplication getApplication() {		return application;	}	/**	 * 	 * 获得当前app版本号	 **/	public void initLocalVersion() {		PackageInfo pinfo;		try {			pinfo = this.getPackageManager().getPackageInfo(					this.getPackageName(), PackageManager.GET_CONFIGURATIONS);			mVersionCode = pinfo.versionCode;			mVersionName = pinfo.versionName;		} catch (NameNotFoundException e) {			e.printStackTrace();		}	}}